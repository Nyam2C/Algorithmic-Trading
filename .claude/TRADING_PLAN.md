# 비트코인 초단기 자동매매 시스템 계획서

**Project Code:** High-Win Survival System
**최종 수정일:** 2025.12.15

---

## 1. 개요

### 1.1 투자 목적
높은 승률 기반의 초단기 비트코인 선물 시스템 트레이딩으로 안정적인 누적 수익 실현

### 1.2 핵심 철학
- **승률 우선** - 손익비를 일부 희생하더라도 승률 극대화
- **노이즈 회피** - 청산에 의존하지 않고 노이즈 구간을 견디는 구조
- **기계적 실행** - 진입/익절/손절/타임컷 완전 자동화

---

## 2. 자금 운용 계획

| 항목 | 설정값 | 비고 |
|------|--------|------|
| 총 운용 자본 | 1,000,000원 | 고정 |
| 1회 진입 비중 | **5% (50,000원)** | 변경됨 |
| 레버리지 | **15배 (격리)** | 변경됨 |
| 포지션 크기 | 750,000원 | 50,000 × 15 |
| 최대 손실/회 | ~3,000원 | 사전 정의 |
| 시행 횟수 | 50회 이상 | 통계적 검증 |

---

## 3. 트레이딩 알고리즘

### 3.1 의사결정 엔진
- **AI 모델:** Google Gemini

### 3.2 입력 데이터
- 최근 2시간 차트
- RSI
- 단기/중기 이동평균
- 거래량 변화
- ATR (변동성 필터)

### 3.3 출력
- `LONG` / `SHORT` / `WAIT`
- **WAIT 적극 활용** - 불리한 구간 진입 차단

---

## 4. 익절/손절/타임컷 기준

### 4.1 최종 기준

| 항목 | 가격 기준 | ROE (15x) | 예상 금액 |
|------|----------|-----------|-----------|
| **익절 (TP)** | +0.4% | +6.0% | +3,000원 |
| **손절 (SL)** | -0.4% | -6.0% | -3,000원 |
| **타임컷** | 2시간 | ~-3% | -1,500원 |

### 4.2 조건부 타임컷 로직
```
기본: 2시간 후 청산

2시간 시점 조건:
- 수익 +0.1% 이상 → 30분 연장 (1회 한정)
- 손실 -0.3% 이상 → 즉시 청산
- 그 외 → 청산
```

### 4.3 주문 방식
- **Maker 주문 필수** - 수수료 0.02% (vs Taker 0.05%)
- 지정가 주문으로 슬리피지 최소화

---

## 5. 기대 수익 분석

### 5.1 예상 결과 분포

| 결과 | 비중 | 금액 |
|------|------|------|
| 익절 | 55% | +3,000원 |
| 손절 | 30% | -3,000원 |
| 타임컷 | 15% | -1,500원 |

### 5.2 기대값 계산
```
EV = (0.55 × 3,000) - (0.30 × 3,000) - (0.15 × 1,500)
   = 1,650 - 900 - 225
   = +525원 (수수료 전)

Maker 수수료 (0.02% × 2 × 750,000원):
   = 300원

순 기대값: +225원/회

※ 승률 60% 시: +450원/회
※ 승률 55% 시: +225원/회
```

### 5.3 손익분기 승률
- Maker 주문 기준: **약 52%** (1:1 손익비)
- Taker 주문 기준: **약 55%**

---

## 6. 리스크 관리

### 6.1 원칙
- ❌ 강제 청산 사용 안 함 (15x로 청산 거리 6.7% 확보)
- ✅ 손실은 항상 사전 정의된 가격에서만 발생
- ✅ 연속 손실 시에도 계좌 급감 방지
- ✅ 노이즈 → 익절 / 횡보 → 타임컷 구조

### 6.2 최대 연속 손실 시나리오
```
10연패 시: -30,000원 (총 자본의 3.0%)
20연패 시: -60,000원 (총 자본의 6.0%)

→ 더 안정적인 구조
```

---

## 7. 운영 환경

| 항목 | 설정 |
|------|------|
| 서버 | AWS EC2 |
| 컨테이너 | Docker |
| 거래소 | Binance Futures |
| 거래 방식 | API 직접 연동 |
| 모드 | 완전 자동 |
| 알림 | Discord 봇 (Embed + 슬래시 명령어) |

---

## 8. 구현 체크리스트

### Phase 1: 백테스트
- [ ] 과거 3개월 데이터 수집
- [ ] AI 예측 모델 정확도 검증
- [ ] 수수료 포함 시뮬레이션
- [ ] 승률별 계좌 성장 곡선 분석

### Phase 2: 인프라
- [ ] AWS EC2 서버 설정
- [ ] Binance API 연동
- [ ] Discord 알림 봇 구축

### Phase 3: 트레이딩 로직
- [ ] Gemini API 연동
- [ ] 진입 신호 생성 모듈
- [ ] 주문 실행 모듈 (Maker 주문)
- [ ] 익절/손절/타임컷 모니터링

### Phase 4: 검증
- [ ] Paper Trading (10회)
- [ ] 소액 실전 (10회, 1% 비중)
- [ ] 정규 운영 (5% 비중)

---

## 9. 핵심 요약

```
레버리지: 15x (격리)
진입 비중: 시드의 5%
익절: +0.4%
손절: -0.4%
손익비: 1:1
타임컷: 2시간 (조건부 연장)
주문: Maker 필수
목표 승률: 55%+
```

---

## 10. 멀티봇 전략 (Phase 8)

### 10.1 봇별 전략 설정

| 봇 | 코인 | 레버리지 | 비중 | TP | SL | 역할 |
|----|------|----------|------|-----|-----|------|
| **BTC 보수형** | BTCUSDT | 10x | 5% | 0.3% | 0.3% | 안정적 베이스 (MVP) |
| **ETH 중간** | ETHUSDT | 15x | 5% | 0.4% | 0.4% | 중간 공격 |
| **SOL 공격형** | SOLUSDT | 15x | 3% | 0.5% | 0.5% | 고변동성 공격 |

### 10.2 봇별 기대 수익

**BTC 보수형 (MVP):**
```
포지션: 50,000 × 10 = 500,000원
익절: +1,500원 / 손절: -1,500원
기대값: +150원/회 (55% 승률 기준)
역할: 계좌 방어, 안정적 수익
```

**ETH 중간:**
```
포지션: 50,000 × 15 = 750,000원
익절: +3,000원 / 손절: -3,000원
기대값: +300원/회 (55% 승률 기준)
역할: BTC보다 높은 수익, 적당한 리스크
```

**SOL 공격형:**
```
포지션: 30,000 × 15 = 450,000원
익절: +2,250원 / 손절: -2,250원
기대값: +225원/회 (55% 승률 기준)
역할: 고수익 추구, 높은 변동성 활용
```

### 10.3 포트폴리오 구성

```
총 자본 배분:
- BTC 보수형: 50% (500,000원) - 안정적 베이스
- ETH 중간:   35% (350,000원) - 중간 수익
- SOL 공격형: 15% (150,000원) - 고수익 추구

→ 코인 분산으로 실질적 헷지
→ BTC 하락해도 SOL/ETH 상승 가능
→ 리스크 계층화 (보수 → 중간 → 공격)
```

### 10.4 코인별 특성

| 코인 | 변동성 | AI 예측 난이도 | 특징 |
|------|--------|---------------|------|
| BTC | 낮음 | 쉬움 | 시장 대장, 안정적 |
| ETH | 중간 | 중간 | BTC 따라가며 변동성 큼 |
| SOL | 높음 | 어려움 | 급등락, 고수익/고위험 |

### 10.5 n8n 오케스트레이션

```
┌─────────────────────────────────────────────┐
│                   n8n                        │
├─────────────────────────────────────────────┤
│  - 각 봇 헬스체크 (5분마다)                   │
│  - 통합 일일 리포트                          │
│  - 포트폴리오 밸런싱                          │
│  - 에러 발생 시 Discord 알림                 │
└─────────────────────────────────────────────┘
         │           │           │
         ▼           ▼           ▼
   [BTC 보수형]  [ETH 중간]  [SOL 공격형]
```

---

**한 줄 요약:**
> "크게 벌지 않지만, 거의 매일 이긴다."
